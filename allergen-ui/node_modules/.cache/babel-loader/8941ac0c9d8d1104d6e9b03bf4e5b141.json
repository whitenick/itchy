{"ast":null,"code":"import _slicedToArray from \"/Users/nickwhite/go/antipathy/allergen-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/nickwhite/go/antipathy/allergen-ui/src/components/CameraFeed.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { useState, useEffect } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { Webcam } from 'react-webcam';\nexport const CameraFeed = () => {\n  const getWebcam = () => {\n    if (!capturedImage.image) {\n      var cameraElement = document.createElement('canvas');\n      webcam = new Webcam(document.getElementById('webcam'), cameraElement);\n      webcam.setup().catch(response => {\n        alert('Error accessing camera');\n      });\n    }\n\n    return webcam;\n  };\n\n  const initialImage = {\n    image: null,\n    isLoading: false,\n    capturured: false,\n    webcam: null\n  };\n\n  const _useState = useState([initialImage]),\n        _useState2 = _slicedToArray(_useState, 2),\n        capturedImage = _useState2[0],\n        setCapturedImage = _useState2[1];\n\n  const _useState3 = useState(),\n        _useState4 = _slicedToArray(_useState3, 1),\n        webcam = _useState4[0];\n\n  useEffect(() => {\n    if (!capturedImage.image) {\n      const currentState = [...capturedImage];\n    }\n  });\n  useEffect(capturedImage => {\n    if (capturedImage.captured) {}\n  });\n  const uploading = capturedImage.isLoading ? React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Uploading, hold on....\")) : React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, capturedImage.image);\n  const current = !capturedImage.captured ? React.createElement(\"input\", {\n    type: \"file\",\n    accept: \"image/*\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }) : capturedImage.image;\n  return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, uploading), React.createElement(Button, {\n    class: \"captureButton\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Upload Photo\"), React.createElement(Button, {\n    class: \"takePicture\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \"Take Picture\"));\n};\nexport default CameraFeed;","map":{"version":3,"sources":["/Users/nickwhite/go/antipathy/allergen-ui/src/components/CameraFeed.js"],"names":["React","axios","useState","useEffect","Button","Webcam","CameraFeed","getWebcam","capturedImage","image","cameraElement","document","createElement","webcam","getElementById","setup","catch","response","alert","initialImage","isLoading","capturured","setCapturedImage","currentState","captured","uploading","current"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,MAAT,QAAuB,iBAAvB;AACA,SAASC,MAAT,QAAuB,cAAvB;AAEA,OAAO,MAAMC,UAAU,GAAG,MAAM;AAC5B,QAAMC,SAAS,GAAG,MAAM;AACpB,QAAI,CAACC,aAAa,CAACC,KAAnB,EAA0B;AACtB,UAAIC,aAAa,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAApB;AACAC,MAAAA,MAAM,GAAG,IAAIR,MAAJ,CACTM,QAAQ,CAACG,cAAT,CAAwB,QAAxB,CADS,EAETJ,aAFS,CAAT;AAIJG,MAAAA,MAAM,CAACE,KAAP,GAAeC,KAAf,CAAqBC,QAAQ,IAAI;AAC7BC,QAAAA,KAAK,CAAC,wBAAD,CAAL;AACH,OAFD;AAGC;;AAED,WAAOL,MAAP;AACH,GAbD;;AAcA,QAAMM,YAAY,GAAG;AACjBV,IAAAA,KAAK,EAAE,IADU;AAEjBW,IAAAA,SAAS,EAAE,KAFM;AAGjBC,IAAAA,UAAU,EAAE,KAHK;AAIjBR,IAAAA,MAAM,EAAE;AAJS,GAArB;;AAf4B,oBAqBcX,QAAQ,CAAC,CAACiB,YAAD,CAAD,CArBtB;AAAA;AAAA,QAqBrBX,aArBqB;AAAA,QAqBNc,gBArBM;;AAAA,qBAsBXpB,QAAQ,EAtBG;AAAA;AAAA,QAsBrBW,MAtBqB;;AAwB5BV,EAAAA,SAAS,CAAC,MAAK;AACX,QAAI,CAACK,aAAa,CAACC,KAAnB,EACA;AACI,YAAMc,YAAY,GAAG,CAAC,GAAGf,aAAJ,CAArB;AAEH;AAEJ,GAPQ,CAAT;AASAL,EAAAA,SAAS,CAACK,aAAa,IAAI;AACvB,QAAIA,aAAa,CAACgB,QAAlB,EAA4B,CAE3B;AACJ,GAJQ,CAAT;AAMA,QAAMC,SAAS,GAAGjB,aAAa,CAACY,SAAd,GACd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,CADc,GAId;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAOZ,aAAa,CAACC,KAArB,CAJJ;AAMA,QAAMiB,OAAO,GAAG,CAAClB,aAAa,CAACgB,QAAf,GACZ;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,MAAM,EAAC,SAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADY,GAGZhB,aAAa,CAACC,KAHlB;AAIA,SACI,0CACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAMgB,SAAN,CADJ,EAEI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,eAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,EAGI,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHJ,CADJ;AAUH,CA3DM;AA6DP,eAAenB,UAAf","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport { useState, useEffect } from 'react';\nimport { Button } from 'react-bootstrap';\nimport { Webcam } from 'react-webcam';\n\nexport const CameraFeed = () => {\n    const getWebcam = () => {\n        if (!capturedImage.image) {\n            var cameraElement = document.createElement('canvas');\n            webcam = new Webcam(\n            document.getElementById('webcam'),\n            cameraElement\n        );\n        webcam.setup().catch(response => {\n            alert('Error accessing camera');\n        })\n        }\n\n        return webcam;\n    }\n    const initialImage = {\n        image: null,\n        isLoading: false,\n        capturured: false,\n        webcam: null\n    };\n    const [capturedImage, setCapturedImage] = useState([initialImage]);\n    const [webcam] = useState();\n\n    useEffect(() =>{\n        if (!capturedImage.image)\n        {\n            const currentState = [...capturedImage];\n            \n        }\n        \n    });\n\n    useEffect(capturedImage => {\n        if (capturedImage.captured) {\n\n        }\n    })\n\n    const uploading = capturedImage.isLoading ?\n        <div>\n            <p>Uploading, hold on....</p>\n        </div> :\n        <span>{capturedImage.image}</span>\n\n    const current = !capturedImage.captured ? \n        <input type=\"file\" accept=\"image/*\"/> \n        :\n        capturedImage.image;\n    return (\n        <>\n            <div>{uploading}</div>\n            <Button class=\"captureButton\">Upload Photo</Button>\n            <Button class='takePicture'>Take Picture</Button>\n\n        </>\n\n\n    );\n};\n\nexport default CameraFeed;"]},"metadata":{},"sourceType":"module"}